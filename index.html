
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>title</title>
  </head>
  <body>
    <div>
      <div><label>Image</label></div>
      <div id="myImgCtn">
      </div>
    </div>
    <br/>
    <div>
      <div><label>Google Image</label></div>
      <div id="myGoogleImageCtn">
      </div>
    </div>
    <br/>
    <div>
      <div><label>Link</label></div>
      <div id="myLinkCtn">
      </div>
    </div>
    <br/>
    <div>
      <div><label>Youtube Video</label></div>
      <div id="MyYoutubeVideoCtn">
      </div>
    </div>
    <br/>
    <br/>
    <img id="myImg" src="https://www.21co.com/~/media/Images/3 List View Images/21C-MedSpecialties-Thumb-492x320.ashx?mw=430" />
    <div id="catchedCtn"></div>
  

<div id="item">
</div>


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
    
<script>
   

    function sendCacthRequest(what, where, to, portName) {
        if (!to)
            throw Error("Argument 'to' is required");

        if (!to.id)
            to.id = 'id' + (new Date()).getTime();

        if (!portName)
            portName = 'port' + (new Date()).getTime();

        // The ID of the extension we want to talk to.
        var extensionId = "bmejefjdpikbdgcgaahoajnndpeakhfk";

        // Start a long-running conversation:
        var port = chrome.runtime.connect(extensionId, { name: portName });

         port.postMessage({
            type: "catch",
            catchInfo: {
                what: what,
                where: where,
                to: to.id
            }
          });
        
        

    }

     document.getElementById("myImg").addEventListener("CatchedContentReceived", function(e) { 
       var myImg = document.getElementById("myImg");
        var info = JSON.parse(myImg.getAttribute("data-latest-catched-content"));
        if (info.catchedItem.bmtype === "Image")
          myImg.src = info.catchedItem.src;
     });
     $(document).ready(function () {
        sendCacthRequest("YoutubeVideo,Video,Audio,GoogleImage,Image,Link", "https://cnn.com", $("#catchedCtn").get(0), null);
    });
    
</script>




  </body>
</html>
