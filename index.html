
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>title</title>
  </head>
  <body>
  <img id="myImg" src="https://www.21co.com/~/media/Images/3 List View Images/21C-MedSpecialties-Thumb-492x320.ashx?mw=430" />

<div id="item">
</div>


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
    
<script>
   

    function sendCacthRequest(what, where, to, portName, callback) {
        if (!to)
            throw Error("Argument 'to' is required");

        if (!to.id)
            to.id = 'id' + (new Date()).getTime();

        if (!portName)
            portName = 'port' + (new Date()).getTime();

        // The ID of the extension we want to talk to.
        var extensionId = "bmejefjdpikbdgcgaahoajnndpeakhfk";

        // Start a long-running conversation:
        var port = chrome.runtime.connect(extensionId, { name: portName });

         port.postMessage({
            type: "catch",
            catchInfo: {
                what: what,
                where: where,
                to: to.id
            }
          });
        
        

    }


     $(document).ready(function () {
        sendCacthRequest("Image", "https://cnn.com", $("#myImg").get(0), null, (catchedItem, catchInfo) => { alert(JSON.stringify(catchedItem)) });
    });
    
</script>




  </body>
</html>
